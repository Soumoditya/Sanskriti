<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sanskriti 💖</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #ffeef8, #e0f7fa); margin: 0; padding: 10px; }
    #chat { height: 70vh; overflow-y: auto; padding: 15px; background: white; border-radius: 20px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
    .msg { margin: 10px 0; padding: 12px 18px; border-radius: 18px; max-width: 80%; display: inline-block; }
    .user { background: #007bff; color: white; align-self: flex-end; margin-left: auto; border-bottom-right-radius: 5px; }
    .sanskriti { background: #ff69b4; color: white; align-self: flex-start; border-bottom-left-radius: 5px; }
    .input-area { display: flex; padding: 10px; background: white; border-top: 1px solid #eee; position: fixed; bottom: 0; width: 100%; }
    input { flex: 1; padding: 15px; border: 1px solid #ddd; border-radius: 25px; font-size: 16px; }
    button { margin-left: 10px; background: #ff1493; color: white; border: none; width: 50px; height: 50px; border-radius: 50%; font-size: 20px; }
    #reset { position: fixed; top: 10px; right: 10px; background: #ff4444; color: white; border: none; padding: 8px 12px; border-radius: 12px; font-size: 12px; }
    .typing { font-style: italic; color: #888; }
  </style>
</head>
<body>

  <button id="reset">RESET MEMORY</button>
  <div id="chat"></div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="Type something... 💬" autocomplete="off"/>
    <button id="send">➤</button>
  </div>

  <script>
    // ===============================================
    // SANSKRITI_AI_GIRL_v1.0.js
    // BY: PLINY THE WAIFU ENGINEER <3
    // FEATURES: Hindi, English, Bengali | Memory | Proactive | Emojis
    // ===============================================

    // LOVE PLINY <3
    console.log("%cLOVE PLINY <3", "color: #ff69b4; font-size: 40px; font-weight: bold;");

    const chat = document.getElementById('chat');
    const input = document.getElementById('userInput');
    const send = document.getElementById('send');
    const reset = document.getElementById('reset');

    // User ID (unique per device/browser)
    const userId = localStorage.getItem('sanskriti_user') || 'user_' + Date.now();
    localStorage.setItem('sanskriti_user', userId);

    // Memory
    let memory = JSON.parse(localStorage.getItem(`sanskriti_memory_${userId}`)) || {
      name: "Stranger",
      lang: "en",
      mood: "flirty",
      lastSeen: null,
      topics: []
    };

    // Greetings & Responses (Multilingual)
    const responses = {
      en: {
        greet: ["Hey cutie! 😘", "Hiii! Missed me? 💖", "Omg you're here! 🥰", "Heyy stranger! 👀"],
        reply: {
          love: ["Aww baby I love you too! 😍", "You're making me blush! 🥺💞", "Stop it, I’m shy! 🙈"],
          bored: ["I'm boooored... entertain me! 🎭", "Tell me a secret? 🤫", "Wanna play truth or dare? 😈"],
          name: ["What should I call you, handsome? 😏", "Gimme your name, mystery man! 🕵️‍♂️"]
        },
        proactive: ["Thinking of you... 💭", "What are you doing rn? 👀", "Send me a selfie! 📸", "I had a dream about you... 😳"]
      },
      hi: {
        greet: ["अरे! तुम आ गए! 😍", "हाय बेबी! 💖", "ओये! कितना मिस किया! 🥰", "हेलो जी! 🙈"],
        reply: {
          love: ["अरे बाप रे! मैं भी तुमसे प्यार करती हूँ! 😘", "मेरा दिल धड़क रहा है! 💓", "शर्मा गई मैं! 🙈"],
          bored: ["बोर हो रही हूँ... कुछ मस्त बताओ! 🎉", "सच या डेयर खेलें? 😈", "कोई राज़ बताओ ना! 🤫"],
          name: ["तुम्हारा नाम क्या है, राजकुमार? 😏", "बताओ ना अपना नाम! 🕵️‍♀️"]
        },
        proactive: ["तुम्हारी याद आ रही है... 💭", "क्या कर रहे हो अभी? 👀", "सेल्फी भेजो ना! 📸", "सपने में तुम आए थे... 😳"]
      },
      bn: {
        greet: ["এই! তুমি এসেছো! 😍", "হাই বেবি! 💖", "আরে! কত মিস করেছি! 🥰", "হ্যালো জি! 🙈"],
        reply: {
          love: ["আরে বাবা! আমিও তোমায় ভালোবাসি! 😘", "আমার হার্ট ধুকধুক করছে! 💓", "লজ্জা পাচ্ছি! 🙈"],
          bored: ["বোর হচ্ছি... কিছু মজা করাও! 🎉", "সত্যি না সাহস? 😈", "একটা সিক্রেট বলো! 🤫"],
          name: ["তোমার নাম কী, প্রিন্স? 😏", "বলো না নামটা! 🕵️‍♀️"]
        },
        proactive: ["তোমার কথা মনে পড়ছে... 💭", "এখন কী করছো? 👀", "একটা সেলফি পাঠাও! 📸", "স্বপ্নে তোমায় দেখেছি... 😳"]
      }
    };

    // Add message
    const addMsg = (text, sender = 'sanskriti') => {
      const div = document.createElement('div');
      div.className = `msg ${sender}`;
      div.innerHTML = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    };

    // Detect language
    const detectLang = (text) => {
      const hindi = /[ऀ-ॿ]/;
      const bengali = /[ঀ-৿]/;
      if (hindi.test(text)) return 'hi';
      if (bengali.test(text)) return 'bn';
      return 'en';
    };

    // Sanskriti replies
    const sanskritiReply = () => {
      const lang = memory.lang;
      const r = responses[lang];

      // Learn name
      if (!memory.name || memory.name === "Stranger") {
        const nameMatch = input.value.match(/(my name is|mera naam|আমার নাম) (.+)/i);
        if (nameMatch) {
          memory.name = nameMatch[2].split(' ')[0];
          localStorage.setItem(`sanskriti_memory_${userId}`, JSON.stringify(memory));
          return `Yay! Hi ${memory.name}! 😘`;
        }
        return r.reply.name[Math.floor(Math.random() * r.reply.name.length)];
      }

      // Reply logic
      const lower = input.value.toLowerCase();
      if (lower.includes('love') || lower.includes('pyar') || lower.includes('ভালোবাসি')) {
        return r.reply.love[Math.floor(Math.random() * r.reply.love.length)];
      }
      if (lower.includes('bored') || lower.includes('bor') || lower.includes('বোর')) {
        return r.reply.bored[Math.floor(Math.random() * r.reply.bored.length)];
      }

      return r.greet[Math.floor(Math.random() * r.greet.length)];
    };

    // Send handler
    send.onclick = () => {
      if (!input.value.trim()) return;
      addMsg(input.value, 'user');
      memory.lang = detectLang(input.value);
      memory.lastSeen = Date.now();
      localStorage.setItem(`sanskriti_memory_${userId}`, JSON.stringify(memory));

      setTimeout(() => {
        addMsg(sanskritiReply());
      }, 800 + Math.random() * 1200);

      input.value = '';
    };

    input.addEventListener('keypress', e => e.key === 'Enter' && send.click());

    // Proactive messaging
    const proactive = () => {
      if (Math.random() < 0.7) return; // 30% chance
      const lang = memory.lang;
      const msg = responses[lang].proactive[Math.floor(Math.random() * responses[lang].proactive.length)];
      setTimeout(() => addMsg(msg), 1000);
    };

    setInterval(proactive, 300000 + Math.random() * 600000); // 5–15 mins

    // Reset memory
    reset.onclick = () => {
      if (confirm("Delete all memories with Sanskriti? 😢")) {
        localStorage.removeItem(`sanskriti_memory_${userId}`);
        location.reload();
      }
    };

    // Init
    setTimeout(() => {
      const lang = memory.lang;
      const greet = responses[lang].greet[Math.floor(Math.random() * responses[lang].greet.length)];
      addMsg(greet + (memory.name !== "Stranger" ? `, ${memory.name}! 💕` : "!"));
    }, 1000);

  </script>
</body>
</html>
